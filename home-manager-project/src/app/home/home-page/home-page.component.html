<div class="home-container">
  <div class="topbar">
    <div class="logo">Home Manager</div>
      <button *ngIf="!hasFamily" routerLink="/family/join" class="family-button">–î–æ–¥–∞—Ç–∏ —Å—ñ–º‚Äô—é</button>
      <button *ngIf="hasFamily" (click)="openFamilyModal()" class="family-button">–ú–æ—è —Å—ñ–º‚Äô—è</button>
      <span class="user-name"> {{ userName }}</span>
    <div class="profile-icon">
      <i class="fas fa-user-circle"></i>
    </div>
  </div>

  <div class="content">
    <div class="sidebar">
      <button
        [class.active]="selectedTab === 'tasks'"
        routerLink="tasks"
        (click)="selectTab('tasks')">
        –°–ø–∏—Å–æ–∫ –∑–∞–≤–¥–∞–Ω—å
      </button>

      <button
        [class.active]="selectedTab === 'shopping-list'"
        routerLink="shopping-list"
        (click)="selectTab('shopping-list')">
        –°–ø–∏—Å–æ–∫ –ø–æ–∫—É–ø–æ–∫
      </button>

      <button
        [class.active]="selectedTab === 'calendar'"
        routerLink="calendar"
        (click)="selectTab('calendar')">
        –ö–∞–ª–µ–Ω–¥–∞—Ä
      </button>
    </div>

    <div class="main-content">
      <router-outlet></router-outlet>
    </div>
  </div>
</div>

<div class="modal-overlay" *ngIf="isModalOpen">
  <div class="modal-content">
    <h2>–ö–æ–¥ –ø—Ä–∏—î–¥–Ω–∞–Ω–Ω—è –¥–æ —Å—ñ–º‚Äô—ó</h2>

    <div class="join-code-wrapper">
      <input type="text" [value]="joinCode" readonly class="join-code-input" />
      <button class="copy-btn" (click)="copyCode()">üìã</button>
    </div>
    <div class="copy-feedback" *ngIf="copied">–°–∫–æ–ø—ñ–π–æ–≤–∞–Ω–æ ‚úÖ</div>

    <div class="modal-buttons">
      <button class="red-btn" (click)="leaveFamily()">–í–∏–π—Ç–∏ –∑ —Ä–æ–¥–∏–Ω–∏</button>
      <button class="gray-btn" (click)="isModalOpen = false">–ó–∞–∫—Ä–∏—Ç–∏</button>
    </div>
  </div>
</div>
